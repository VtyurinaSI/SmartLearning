CREATE EXTENSION IF NOT EXISTS pgcrypto;

CREATE TABLE IF NOT EXISTS public.checking_results (
  correlation_id uuid PRIMARY KEY,
  user_id     uuid NOT NULL,
  task_id	  uuid NOT NULL,	
  orig_code   text,
  compil_res  text,
  test_res    text,
  review_res  text,
  uploaded_at timestamptz DEFAULT now()
);

CREATE INDEX IF NOT EXISTS ix_checking_results_user_id ON public.checking_results(correlation_id);
