{
  "id": "check-singleton-instance",
  "pattern": "singleton",
  "version": "1.0",
  "target": {
    "assemblyName": "UserAssemblyName",
    "entrypointTypeRegex": ".*",
    "excludeCompilerGenerated": true
  },
  "steps": [
    {
      "id": "step-findtypes",
      "operation": "FindTypes",
      "args": {
        "kind": "Any",
        "visibility": "Any"
      }
    },
    {
      "id": "step-find-ctors",
      "operation": "FindMembers",
      "input": "AllClasses",
      "output": "AllCtors",
      "args": {
        "kinds": "Constructor",
        "visibility": "Any"
      }
    },
    {
      "id": "step-assert-ctor-internal",
      "operation": "AssertMemberSignature",
      "input": "AllCtors",
      "args": {
        "visibility": "Internal",
        "minMatches": 1
      }
    },
    {
      "id": "step-find-accessors",
      "operation": "FindMembers",
      "input": "AllClasses",
      "output": "SingletonAccessors",
      "args": {
        "kinds": "Field,Property,Method",
        "visibility": "Any",
        "static": true,
        "nameRegex": "Instance|GetInstance"
      }
    },
    {
      "id": "step-assert-accessors",
      "operation": "AssertMemberSignature",
      "input": "SingletonAccessors",
      "args": {
        "visibility": "Public",
        "static": true,
        "minMatches": 1
      }
    }
  ]
}
